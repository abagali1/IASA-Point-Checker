<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0">
	<title>IASA Point Checker</title>
        <link rel="shortcut icon" href="#" />
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <style>
            div#pointsWrapper {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            #roleWrapper{
                display: none;
            }
            tr, td {
                text-align: center;
            }
            label {
                padding: 5px;
            }
        </style>
    </head>
    <body>
        <div class="bg-gradient h-screen flex flex-col items-center gap-y-6 px-8 text-center text-black my-10">
            <h1 class="text-5xl font-bold flex items-center content-center">IASA Point Checker</h1>
            
            <div id="umichWrapper" style="display: none;" class="bg-red-300 rounded-lg py-2 px-4">
                <h3>
                    You must log in with an @umich.edu Google account
                </h3>
            </div>

           
            <div id="notFoundWrapper" style="display: none;" class="bg-red-300 rounded-lg py-2 px-4">
                <h3>
                    You are not registered as an IASA member
                </h3>
            </div>

            <div id="errorWrapper" style="display: none;" class="bg-red-300 rounded-lg py-2 px-4">
                <h3>
                    An unexpected error has occurred. Please try again later.
                </h3>
                <a class="text-blue-600" href="/" onclick="reset()">Click to try again</a>
                <br><br>
                <p id="errorDetails"></p>
            </div>
            
            <div id="loginWrapper">
                <button id="login" class="flex items-center justify-center py-2 px-4 rounded-md shadow-md bg-neutral-400 hover:bg-gray-200 transition-colors duration-500 text-gray-700 text-sm font-bold focus:outline-none focus:ring-2 focus:ring-offset-2" type="button">
                    <p class="mr-2">Sign in with umich.edu</p>
                    <div class="flex items-center gap-x-2">
                        <img src="img/block_m.svg" class="h-5 w-auto" alt="University of Michigan logo">
                        <p class="text-lg">+</p>
                        <img src="img/google.svg" class="h-6 w-auto" alt="Google logo">
                    </div>
                </button>
                <br>
                <h3 class="text-3xl">OR</h3>
                <h3 class="font-bold text-3xl">Impersonate: </h3>
                <form style="display: block;">
                    <input type="radio" value="Member" id="memberChoice" name="choice">
                    <label for="memberChoice">Member</label>
                    <input type="radio" value="Choreo" id="choreoChoice" name="choice">
                    <label for="choreoChoice">Choreo</label>
                    <br>
                    <button class="flex items-center justify-center py-2 px-4 rounded-md shadow-md bg-neutral-400 hover:bg-gray-200 transition-colors duration-500 text-gray-700 text-sm font-bold focus:outline-none focus:ring-2 focus:ring-offset-2" style="text-align: center;margin-left: 95px;">
                        Submit
                    </button>
                </form>
            </div>

            <div id="loadingWrapper" style="display: none;">
                <h3 class="text-2xl">Fetching data...</h3>
            </div>
            
            
            <div id="pointsWrapper" style="display: none;">
                <h3 class="text-4xl font-bold flex items-center content-center my-3"><span id="name"></span></h3>
                <p id="points" class="text-3xl">You have <span class="font-bold"></span> IASA Points</p>
                
                <br>
                <h3 class="text-2xl font-bold" id="eventsHeader" style="display: none;">Your Event Attendance</h3>
                <table class="table" id="eventsTable" style="display: none;"></table>
                
                
                <h3 class="text-2xl font-bold" id="dancerHeader" style="display: none;">Your Dancers</h3>
                <table class="table" id="dancerPoints" style="display: none;">
                    <tr>
                        <th>
                            Dancer Name (uniqname)
                        </th>
                        <th>
                            IASA Points (current/needed)
                        </th>
                    </tr>

                </table>
            </div>


        </div>

    </body>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-database-compat.js"></script>
    <script src="js/index.js"></script>
</html>
